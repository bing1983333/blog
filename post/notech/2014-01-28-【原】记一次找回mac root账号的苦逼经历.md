【原】记一次找回mac root账号的苦逼经历
====
#缘起
之前我在mac上自己搞了个shell脚本，一条龙完成svn代码更新、打包、应用部署、jboss启动等动作，但是在unix环境下有一条法律：1024以下的端口都是保留给root用户使用的，这样我以自己的账号起web服务器想占用80端口岂不捉急。。。之前在网上找到一个方法，利用ipfw做端口转发，jboss http服务端口仍保留8080，通过ipfw将所有发往80端口的请求都转发到8080端口，配置如下：
```java
sudo ipfw del 60000  
sudo ipfw add 60000 fwd 127.0.0.1,8080 tcp from any to any 80 in
```
将如上命令放在我的ssh自动部署脚本里，大功告成~但是有一个问题，可以看到ipfw需要sudo执行权限，每次很爽的运行脚本时，都要暂停以下愉快心情，输入一次密码。于是某日晚上，我就上网找绕过sudo密码输入的方法。。。

#中招
很快就找到一个解救方法：http://www.51testing.com/html/38/225738-216699.html，大致思路是修改sudo的配置文件/etc/sudoers，其中支持将某个用户配置为sudo执行命令无需密码输入（甚至可以针对指定命令做到这一点）。其中将我带沟里的就是如下这一段：

![tool-editor](https://raw2.github.com/bing1983333/blog/master/post/jvm/2014-01-28-%E3%80%90%E5%8E%9F%E3%80%91jvm%E4%B8%AD%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E3%80%81%E8%BF%9E%E6%8E%A5%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96/1.jpg)